(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{489:function(n,e,s){"use strict";s.r(e);var r=s(54),o=Object(r.a)({},(function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"jenkins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins"}},[n._v("#")]),n._v(" jenkins")]),n._v(" "),s("h3",{attrs:{id:"docker方式启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker方式启动"}},[n._v("#")]),n._v(" docker方式启动：")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[n._v('- 请先预装好docker环境、docker-compose环境\n- 1.使用docker镜像启动： jenkins-docker-compose.yml\n\n        version: "3.7"\n        services:\n        jenkines-1:\n            hostname: jenkines-1\n            image: jenkins/jenkins:latest-jdk8\n            container_name: jenkins-container-1\n            volumes:\n            - /home/mqz/jenkins-docker/:/var/jenkins_home\n            - /var/run/docker.sock:/var/run/docker.sock\n            #- /usr/bin/docker:/usr/bin/docker\n            #- /usr/lib/x86_64-linux-gnu/libltdl.so.7:/usr/lib/x86_64-linux-gnu/libltdl.so.7\n            ports:\n            - "8080:8080"\n            - "50000:50000"\n            #    networks:\n            #      - nacos_net\n            restart: always\n            privileged: true\n        #networks:\n        #  nacos_net:\n        #    external: true\n\n- 2. 构建并且启动docker容器： 具体的docker命令可参考项目  nacos-consumer-a （spring-cloud-alibaba那一块）\n    docker-compose -f jenkins-docker-compose.yml up -d \n\n\n- 注意：\n    #问题： touch: cannot touch ‘/var/jenkins_home/copy_reference_file.log’: Permission denied\n           Can not write to /var/jenkins_home/copy_reference_file.log. Wrong volume permissions?\n    \n    #原因：jenkins容器的当前用户:是jenkins而且/var/jenkins_home目录是属于jenkins用户拥有的而当映射本地数据卷时，\n          /var/jenkins_home目录的拥有者变成了root用户，所以当jenkins用户的进程访问/var/jenkins_home目录时，会出现 Permission denied\n    \n    #解决命令：sudo chown -R 1000 /home/mqz/jenkins-docker\n    \n    #docker 启动的jenkins可能会在install plugins 的时候失败，因为docker对jenkins的版本支持还是之前的旧版导致的。\n    #建议使用下载war包方式，nuhop 运行 war \n')])])]),s("h3",{attrs:{id:"war包方式启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#war包方式启动"}},[n._v("#")]),n._v(" war包方式启动：")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[n._v("- 1.官网下载war：https://www.jenkins.io/zh/download/ \n- 2. 具体步骤可以参考项目 ： https://github.com/DemoMeng/start-jenkins\n")])])])])}),[],!1,null,null,null);e.default=o.exports}}]);