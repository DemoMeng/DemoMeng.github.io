(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{421:function(s,n,a){"use strict";a.r(n);var e=a(54),r=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"nexus本地私库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nexus本地私库"}},[s._v("#")]),s._v(" Nexus本地私库")]),s._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"111",href:"img.png"}},[a("img",{attrs:{src:"img.png",alt:"img.png"}})])]),s._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("ul",[a("li",[s._v("1：  docker部署：参考 ./docker/docker-nexus.yml")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('version: "3.3"\nservices:\n  nexus:\n    image: sonatype/nexus3\n    container_name: nexus3-by-mqz\n    environment:\n       - TZ=Asia/Shanghai\n    #  - discovery.type=single-node\n    #  - "ES_JAVA_OPTS=-Xms512m -Xmx512m"\n    volumes:\n      - /logs/nexus/nexus-data:/nexus-data\n    ports:\n      - "8081:8081"\n    #    networks:\n    #      - elastic\n    privileged: true\n#networks:\n#  elastic:\n#    driver: bridge\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("ul",[a("li",[s._v("2：  tar部署：   下载链接 https://help.sonatype.com/repomanager3/download （速度慢）")]),s._v(" "),a("li",[s._v("3： docker部署admin的密码： 容器内 /nexus-data/admin.password")]),s._v(" "),a("li",[s._v("4： 用admin/密码登陆nexus：\n"),a("a",{attrs:{"data-fancybox":"",title:"111",href:"img_3.png"}},[a("img",{attrs:{src:"img_3.png",alt:"img_3.png"}})])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("默认仓库说明：\n  maven-central：maven 中央库，默认从 https://repo1.maven.org/maven2/ 拉取 jar\n  maven-releases：私库发行版 jar，初次安装请将 Deployment policy 设置为 Allow redeploy\n  maven-snapshots：私库快照（调试版本）jar\n  maven-public：仓库分组，把上面三个仓库组合在一起对外提供服务，在本地 maven 基础配置 settings.xml 或项目 pom.xml 中使用\n\n仓库类型说明：\n  group：这是一个仓库聚合的概念，用户仓库地址选择 Group 的地址，即可访问 Group 中配置的，用于方便开发人员自己设定的仓库。maven-public 就是一个 Group 类型的仓库，内部设置了多个仓库，访问顺序取决于配置顺序，3.x 默认为 Releases、Snapshots、Central，当然你也可以自己设置。\n  hosted：私有仓库，内部项目的发布仓库，专门用来存储我们自己生成的 jar 文件\n  snapshots：本地项目的快照仓库\n  releases： 本地项目发布的正式版本\n  proxy：代理类型，从远程中央仓库中寻找数据的仓库（可以点击对应的仓库的 Configuration 页签下 Remote Storage 属性的值即被代理的远程仓库的路径），如可配置阿里云 maven 仓库\n  central：中央仓库\n  \n  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("5： 创建一个代理仓库：  http://maven.aliyun.com/nexus/content/groups/public/ ，创建后如下图：\n"),a("a",{attrs:{"data-fancybox":"",title:"111",href:"img_1.png"}},[a("img",{attrs:{src:"img_1.png",alt:"img_1.png"}})])])]),s._v(" "),a("li",[a("p",[s._v("6： 创建完后修改maven-public的加载成员仓库顺序：\n"),a("a",{attrs:{"data-fancybox":"",title:"111",href:"img_2.png"}},[a("img",{attrs:{src:"img_2.png",alt:"img_2.png"}})])])])]),s._v(" "),a("h2",{attrs:{id:"maven项目中使用nexus私服"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven项目中使用nexus私服"}},[s._v("#")]),s._v(" maven项目中使用nexus私服：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Maven 配置私服下载有两种方式：")]),s._v(" "),a("ol",[a("li",[s._v("setting.xml：maven的配置文件，该文件配置的是全局模式")]),s._v(" "),a("li",[s._v("pom.xml：项目pom文件，该文件的配置的是项目独享模式")])]),s._v(" "),a("p",[s._v("若 pom.xml 和 setting.xml 同时配置了，以 pom.xml 为准。")])]),s._v(" "),a("li",[a("p",[s._v("加载顺序： 本地仓库 --\x3e 私服 maven-releases --\x3e 私服 maven-snapshots --\x3e 远程阿里云 maven 仓库 --\x3e 远程中央仓库")])]),s._v(" "),a("li",[a("p",[s._v("方式1配置maven的setting.yml文件： 配置后不需要再配置 pom.xml 文件")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<mirrors>\n  <mirror>\n      \x3c!--该镜像的唯一标识符。id用来区分不同的mirror元素。 --\x3e\n      <id>maven-public</id>\n      \x3c!--镜像名称 --\x3e\n      <name>maven-public</name>\n      \x3c!--*指的是访问任何仓库都使用我们的私服--\x3e\n      <mirrorOf>*</mirrorOf>\n      \x3c!--该镜像的URL。构建系统会优先考虑使用该URL，而非使用默认的服务器URL。 --\x3e\n      <url>http://192.168.2.11:8081/repository/maven-public/</url>     \n  </mirror>\n</mirrors>\n\n若没有搭建私服，则可以使用阿里云的仓库：\n\n<mirror>\n  <id>nexus-aliyun</id>\n  <name>Nexus aliyun</name>\n  <mirrorOf>*</mirrorOf>\n  <url>http://maven.aliyun.com/nexus/content/groups/public</url>\n</mirror>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("ul",[a("li",[s._v("方式2配置项目的pom文件：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\x3c!-- 本地私库Nexus地址 --\x3e\n<repositories>\n    <repository>\n        <id>central</id>\n        <name>Maven myself Mirror</name>\n        <url>http://192.168.2.11:8081/repository/maven-central/</url>\n        <releases>\n            <enabled>true</enabled>\n        </releases>\n        <snapshots>\n            <enabled>false</enabled>\n        </snapshots>\n    </repository>\n\n    <repository>\n        <id>pubilc</id>\n        <name>Maven myself Mirror</name>\n        <url>http://192.168.2.11:8081/repository/maven-public/</url>\n        <releases>\n            <enabled>true</enabled>\n        </releases>\n        <snapshots>\n            <enabled>false</enabled>\n        </snapshots>\n    </repository>\n</repositories>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("ul",[a("li",[s._v("若没有搭建私服，则可以使用阿里云的仓库：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<repositories>\n  <repository>\n    <id>maven-aliyun</id>\n    <url>http://maven.aliyun.com/nexus/content/groups/public/</url>\n    <releases>\n       <enabled>true</enabled>\n    </releases>\n    <snapshots>\n       <enabled>true</enabled>\n       <updatePolicy>always</updatePolicy>\n       <checksumPolicy>fail</checksumPolicy>\n    </snapshots>\n  </repository>\n</repositories>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("把本地项目发布到Nexus私库中，（类似本地项目打包，生成jar包并安到本地仓库）")])]),s._v(" "),a("ul",[a("li",[a("ol",[a("li",[s._v("修改maven的setting文件： 在servers节点添加如下配置")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\x3c!--nexus更新依赖 --\x3e\n<server>\n    <id>releases</id>\n    <username>admin</username>\n    <password>mengqizhang</password>\n</server>\n<server>\n    <id>snapshots</id>\n    <username>admin</username>\n    <password>mengqizhang</password>\n</server>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[a("ol",{attrs:{start:"2"}},[a("li",[s._v("修改项目的pom文件：")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<distributionManagement>\n      <repository>\n          <id>releases</id>\n          <name>Releases</name>\n          <url>http://192.168.2.11:8081/repository/maven-releases/</url>\n      </repository>\n      <snapshotRepository>\n          <id>snapshots</id>\n          <name>Snapshot</name>\n          <url>http://192.168.2.11:8081/repository/maven-snapshots/</url>\n      </snapshotRepository>\n</distributionManagement>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ul",[a("li",[a("ol",{attrs:{start:"3"}},[a("li",[s._v("执行 mvn clean deploy :")])])])])])}),[],!1,null,null,null);n.default=r.exports}}]);